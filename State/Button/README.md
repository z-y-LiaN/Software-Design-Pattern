# 两个开关共享状态的例子
---
在有些情况下，**多个**Context可能需要**共享同一个状态**

- 如果希望在系统中实现多个Context共享一个或多个状态对象
- 则可以**将这些State定义为Context的静态成员对象**。
---
## 关于为什么定义为静态成员对象：

- 属于类，独立于对象，即使未创建对象，也可以通过类调用静态的属性和方法

- 由于static成员**为所有实例对象所共享**，当业务需求出现**某个成员需要被所有实例对象所需要**时，应将其设为static，**当类的任何对象访问它时，存取到的都是相同的值**
  - 某个成员：可以对应某个状态
  - 被所有实例对象所需要：这个状态被多个Context共享

- static变量只会在类加载时被分配一次且一次空间，而实例对象会在每次创建新对象时都会为其分配一次新的空间

- **static成员可以通过类名访问，也可以通过对象名访问**

- static方法中只允许访问static属性或方法，不允许访问非static成员（因为非static成员在初次类加载时并未初始化）

---

题目：如果某系统要求两个开关对象（Context）要么**都**处于开的状态，要么都处于关的状态，在使用时它们的状态必须保持一致，开关可以由开转换到关，也可以由关转换到开。

题目分析：

- 两个开关对象——两个Context
- 都处于开，都处于关—— 共享开状态和共享关状态
- 因此，需要把这两个state定义为context的静态成员对象